<!DOCTYPE html>
<html>
<head>
	<title>Goblin Game</title>

</head>
<body>
	<script type="text/javascript">
	//Create the canvas with JS
		var canvas = document.createElement('canvas');
		var ctx = canvas.getContext('2d');
		canvas.width = 512;
		canvas.height = 480;

		document.body.appendChild(canvas);

		//make a background image!
		var bgImage = new Image();
		var bgReady = false;
		bgImage.onload = function(){
			bgReady = true;
		}

		bgImage.src = "background.png";

		//Draw our stuff
		var render = function(){
			if(bgReady){
				ctx.drawImage(bgImage, 0, 0);
			}
		}

		render();


		var main = function(){

			var now = Date.now();
			var delta = now - then;
			render();
			then = now;
			requestAnimationFrame(main)
		}
		var then = Date.now();
		main();
	</script>
</body>
</html>